<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>College Football Expected Points Model Fundamentals - Part II • cfbfastR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="College Football Expected Points Model Fundamentals - Part II">
<meta name="description" content="Motivating the regression - I do bad regression to show that a multinomial logistic regression model is necessary">
<meta property="og:description" content="Motivating the regression - I do bad regression to show that a multinomial logistic regression model is necessary">
<meta property="og:image" content="https://github.com/sportsdataverse/cfbfastR-data/blob/main/themes/social_card_cfbfastR_final_quote.png?raw=true">
<meta property="og:image:alt" content="When you code good, you know good. When you know good, you win good. When you win good, they pay good.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@saiemgilani">
<meta name="twitter:site" content="@cfbfastR">
<script defer data-domain="cfbfastr.sportsdataverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cfbfastR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" title="cfbfastR"><span class="fa fas fa-home"></span> </a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-funcs" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-code"></span> Funcs</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-funcs">
<li><a class="dropdown-item" href="../reference/index.html">Function Index</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>cfbfastR Data</h6></li>
    <li><a class="dropdown-item" href="../reference/load_cfb_pbp.html">Load Full Season PBP Data</a></li>
    <li><a class="dropdown-item" href="../reference/update_cfb_db.html">Update or Create Database</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_pbp_data.html">Play-by-Play Data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>CFB Data</h6></li>
    <li><a class="dropdown-item" href="../reference/register_cfbd.html">CFBD API Keys</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_games.html">Games</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_play.html">Plays</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_drives.html">Drives</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_teams.html">Teams</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_players.html">Players</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_stats.html">Statistics</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_metrics.html">Metrics</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_ratings.html">Ratings</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_draft.html">Draft</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_betting_lines.html">Betting</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_recruiting.html">Recruiting</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_coaches.html">Coaches</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_conferences.html">Conferences</a></li>
    <li><a class="dropdown-item" href="../reference/cfbd_venues.html">Venues</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ESPN Data</h6></li>
    <li><a class="dropdown-item" href="../reference/espn_metrics.html">ESPN Metrics</a></li>
    <li><a class="dropdown-item" href="../reference/espn_ratings_fpi.html">ESPN Ratings</a></li>
    <li><a class="dropdown-item" href="../reference/espn_cfb_scoreboard.html">ESPN Scoreboard</a></li>
    <li><a class="dropdown-item" href="../reference/espn_cfb_pbp.html">ESPN PBP</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book-reader"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/index.html">Vignettes</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introductory</h6></li>
    <li><a class="dropdown-item" href="../articles/intro.html">CFB Analytics with cfbfastR</a></li>
    <li><a class="dropdown-item" href="../articles/animated-wp-plotting.html">Animated Win Probability Plots</a></li>
    <li><a class="dropdown-item" href="../articles/fourth-down-plot-tutorial.html">Fourth Down Tendency Plots</a></li>
    <li><a class="dropdown-item" href="../articles/rolling-epa-graph.html">Rolling EPA Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/nth-rated-recruit.html">Visualizing Team Talent with Player Recruit Rankings</a></li>
    <li><a class="dropdown-item" href="../articles/map-tutorial.html">Intro to Visualizing Recruiting Geography</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Expected Points Model Fundamentals</h6></li>
    <li><a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-i.html">Part 1 - Model Definition</a></li>
    <li><a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-ii.html">Part 2 - Regression Models</a></li>
    <li><a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-iii.html">Part 3 - History of Expected Points Models</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>CFBD Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/cfbd_betting.html">CFBD Betting</a></li>
    <li><a class="dropdown-item" href="../articles/cfbd_games.html">CFBD Games</a></li>
    <li><a class="dropdown-item" href="../articles/cfbd_plays.html">CFBD Plays</a></li>
    <li><a class="dropdown-item" href="../articles/cfbd_recruiting.html">CFBD Recruiting</a></li>
    <li><a class="dropdown-item" href="../articles/cfbd_stats.html">CFBD Stats</a></li>
    <li><a class="dropdown-item" href="../articles/cfbd_teams.html">CFBD Teams</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fas fa-newspaper"></span>  News</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown--sdv" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-project-diagram"></span>  SDV</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown--sdv">
<li><a class="external-link dropdown-item" href="https://sportsdataverse.org/">SportsDataverse</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>R Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://r.sportsdataverse.org/">sportsdataverse-R</a></li>
    <li><a class="dropdown-item" href="https://cfbfastR.sportsdataverse.org/">cfbfastR</a></li>
    <li><a class="external-link dropdown-item" href="https://hoopR.sportsdataverse.org/">hoopR</a></li>
    <li><a class="external-link dropdown-item" href="https://wehoop.sportsdataverse.org/">wehoop</a></li>
    <li><a class="external-link dropdown-item" href="https://fastRhockey.sportsdataverse.org/">fastRhockey</a></li>
    <li><a class="external-link dropdown-item" href="https://hockeyr.netlify.app/">hockeyR</a></li>
    <li><a class="external-link dropdown-item" href="https://abhiamishra.github.io/ggshakeR/">ggshakeR</a></li>
    <li><a class="external-link dropdown-item" href="https://BillPetti.github.io/baseballr/">baseballr</a></li>
    <li><a class="external-link dropdown-item" href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a></li>
    <li><a class="external-link dropdown-item" href="https://usfootballR.sportsdataverse.org/">usfootballR</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/Dato-Futbol/soccerAnimate/">soccerAnimate</a></li>
    <li><a class="external-link dropdown-item" href="https://jaseziv.github.io/chessR/">chessR</a></li>
    <li><a class="external-link dropdown-item" href="https://oddsapiR.sportsdataverse.org/">oddsapiR</a></li>
    <li><a class="external-link dropdown-item" href="https://sportyR.sportsdataverse.org/">sportyR</a></li>
    <li><a class="external-link dropdown-item" href="https://torvik.dev/">toRvik</a></li>
    <li><a class="external-link dropdown-item" href="https://cfbplotR.sportsdataverse.org/">cfbplotR</a></li>
    <li><a class="external-link dropdown-item" href="https://camdenk.github.io/mlbplotR/">mlbplotR</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/sportsdataverse/softballR/">softballR</a></li>
    <li><a class="external-link dropdown-item" href="https://cfb4th.sportsdataverse.org/">cfb4th</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nwslR/nwslR/">nwslR</a></li>
    <li><a class="external-link dropdown-item" href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a></li>
    <li><a class="external-link dropdown-item" href="https://recruitr.sportsdataverse.org/">recruitR</a></li>
    <li><a class="external-link dropdown-item" href="https://puntalytics.github.io/puntr/">puntr</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Python Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://py.sportsdataverse.org/">sportsdataverse-py</a></li>
    <li><a class="external-link dropdown-item" href="https://sportypy.sportsdataverse.org/">sportypy</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nwslR/nwslpy/">nwslpy</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/sportsdataverse/recruitR-py/">recruitR-py</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nathanblumenfeld/collegebaseball/">collegebaseball</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Node.js Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://js.sportsdataverse.org/">sportsdataverse.js</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown--data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-database"></span>  Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown--data">
<li><a class="external-link dropdown-item" href="https://collegefootballdata.com">CFBData.com</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/sportsdataverse/sportsdataverse-data/releases">SDV Data Releases</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-data">Data Repository</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-raw">Raw Data Repository</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="http://gameonpaper.com/cfb"><span class="fa fas fa-football-ball"></span>  GP</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/cfbfastR"><span class="fa fab fa-twitter fa-lg"></span> </a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sportsdataverse/cfbfastR/"><span class="fa fab fa-github fa-lg"></span> </a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>College Football Expected Points Model Fundamentals - Part II</h1>
                        <h4 data-toc-skip class="author">Saiem Gilani
<br><a href="https://twitter.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/twitter/follow/saiemgilani?color=blue&amp;label=%40saiemgilani&amp;logo=x&amp;style=for-the-badge" alt="@saiemgilani"></a>
<a href="https://github.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/github/followers/saiemgilani?color=eee&amp;logo=Github&amp;style=for-the-badge" alt="@saiemgilani"></a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sportsdataverse/cfbfastR/blob/main/vignettes/college-football-expected-points-model-fundamentals-part-ii.Rmd" class="external-link"><code>vignettes/college-football-expected-points-model-fundamentals-part-ii.Rmd</code></a></small>
      <div class="d-none name"><code>college-football-expected-points-model-fundamentals-part-ii.Rmd</code></div>
    </div>

    
    
<p>Previously in Part 1, we left off discussing field position and
expected points, including a breakdown by down. Generally, what was
presented could be considered the most top-level results discussion and
model definition information without much depth into how we arrived at
the model, or detail on how the predictions the model provides generate
the expected points.</p>
<p>In order to remedy that, I feel it necessary for us to cover some
model building methods. This article will show you how we arrive at the
model that we currently have from a modeling perspective. The entire
purpose of this series of articles is to show you as transparently as I
can how the Expected Points model works, how well it works, and how the
model is limited.</p>
<p>Additionally, and maybe most importantly, this research is
reproducible. The following link contains an <a href="https://rpubs.com/saiemgilani/625433" class="external-link">R notebook</a> and
supporting figures for the article which should be sufficient to work
through (it is large, ~284Mb when unzipped). <a href="https://drive.google.com/file/d/1jJZBEUvqvEC9I_0-3TFtKQGww7qICVJ2/view?usp=sharing" class="external-link">Link</a></p>
<div class="section level3">
<h3 id="the-data">The Data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h3>
<p>We will be acquiring data from <a href="collegefootballdata.com">CollegeFootballData.com</a>, courtesy of
@<a href="https://twitter.com/CFB_data" class="external-link">CFB_data</a>, using
<code>cfbfastR</code>, created by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a> and <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>
<div class="section level2">
<h2 id="regression-methods">Regression Methods<a class="anchor" aria-label="anchor" href="#regression-methods"></a>
</h2>
<p><a href="https://imgur.com/rOjdyUC" class="external-link"><img src="https://i.imgur.com/rOjdyUCl.png" title="Figure: @ChrisAlbon"></a></p>
<p><strong>Figure 1</strong>: Regression | <a href="https://machinelearningflashcards.com/" class="external-link">Chris Albon</a> (@<a href="https://twitter.com/chrisalbon?s=20" class="external-link">ChrisAlbon</a>)</p>
<p>Regression is a set of techniques for estimating relationships
between multiple variables on a quantitative target variable, and our
focus will be on one of the simplest types of relationships: linear.</p>
<div class="section level3">
<h3 id="linear-regression">Linear Regression<a class="anchor" aria-label="anchor" href="#linear-regression"></a>
</h3>
<p><a href="https://imgur.com/MegfSse" class="external-link"><img src="https://i.imgur.com/MegfSsel.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 2</strong>: Linear Regression Model</p>
<div class="section level4">
<h4 id="assumptions">Assumptions<a class="anchor" aria-label="anchor" href="#assumptions"></a>
</h4>
<ul>
<li>Dependent variable is continuous, unbounded, and measured on an
interval or ratio scale</li>
<li>Model has linear relation between independent and dependent
variables</li>
<li>No outliers present</li>
<li>Independence Assumption: Sample observations are independent</li>
<li>Absence of multicollinearity between the predictor variables</li>
<li>Constant Variance Assumption (homoscedasticity)</li>
<li>Normal Distribution of error terms</li>
<li>Little or no auto-correlation in the residuals</li>
</ul>
<p>Since scores in football only happen in increments of 2, 3, and 6
(+0, +1, +2), with the additional points in parentheses resulting from
extra point attempts, the football scoring scheme is not continuous over
an interval or ratio scale without transformation of the target
variable.</p>
<p>While pretending I was unaware of the continuous dependent variable
assumption of linear regression, I took a look into producing a linear
regression model using down, distance, and yards-to-goal as independent
variables using a similarly treated college football dataset but
excluding all 4th down plays. I tried to predict on either the next
score in the half or points on the drive, and the one that demonstrated
the highest adjusted R-squared at 0.5143, the others were quite low.</p>
<p>Adjusted R-squared is a measure of the percentage of the dependent
variable variation explained by the independent variables, in this case
51.43%. Below is the model summary of this fitting with no
intercept.</p>
<p><a href="https://imgur.com/HjH1CFw" class="external-link"><img src="https://i.imgur.com/HjH1CFwl.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 3</strong>: Linear Regression model summary | Expected
Drive-Points model using Down, Distance, and Field Position as
factors</p>
<p>Additionally, the linear model indicates that all three factors are
significant at a p=0.001 level, which is at least some evidence that our
variables have a relationship with drive points. Here is a plot of the
linear regression model fitting.</p>
<p><a href="https://imgur.com/AZVRKf3" class="external-link"><img src="https://i.imgur.com/AZVRKf3l.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 4</strong>: Linear Regression model plots | Expected
Drive-Points model using Down, Distance, and Field Position as
factors</p>
<p>In the plot on the top left, there are 4 distinct scoring types
clearly visible and the model is trying to fire a shot through to fit
all of them. The red line in the top-left would be relatively flat if
the residuals of the model fit had constant variance. While there are
two other non-zero scoring types, Field Goals and Opponent Field Goals,
the data excluded 4th down, so they do not appear on the plot. For
clarity, there are in fact 7 next score types when we include the
absence of a score, i.e. “No Score”, since the absence of a scoring
event is also a type of next score.</p>
<p>Upon viewing these plots, I quickly realized that several assumptions
of linear regression are being violated here, namely the constant
variance assumption and normal distribution of error terms (see Figure
4), at minimum. We need to keep adding to our regression toolbox, so let
us now take a look at a type of regression that does not restrict us to
these assumptions.</p>
</div>
</div>
<div class="section level3">
<h3 id="logistic-regression">Logistic Regression<a class="anchor" aria-label="anchor" href="#logistic-regression"></a>
</h3>
<p>Suppose we have a binary output variable Y, let’s say Y is a variable
that gives a response of 1 if the next score in the half is a TD for the
offense and a 0 otherwise. If we wanted to predict the probability that
the next score in the half is a TD for the offense, one of the prime
candidate models would be logistic regression.</p>
<p><a href="https://imgur.com/ZePALn7" class="external-link"><img src="https://i.imgur.com/ZePALn7l.png" title="Figure: @ChrisAlbon" alt="Figure: @ChrisAlbon"></a></p>
<p><strong>Figure 5</strong>: Logistic Regression <a href="https://machinelearningflashcards.com/" class="external-link">Chris Albon</a> (@<a href="https://twitter.com/chrisalbon?s=20" class="external-link">ChrisAlbon</a>)</p>
<p><a href="https://imgur.com/PJXbgfq" class="external-link"><img src="https://i.imgur.com/PJXbgfql.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 6</strong>: Logistic Regression Model</p>
<div class="section level4">
<h4 id="assumptions-1">Assumptions<a class="anchor" aria-label="anchor" href="#assumptions-1"></a>
</h4>
<ul>
<li>Binary logistic regression requires the dependent variable to be
binary (i.e. 0/1)</li>
<li>There is a linear relationship between the log-odds of the outcome
and each of the predictor variables.</li>
<li>No outliers present</li>
<li>Independence Assumption: Sample observations are independent</li>
<li>Absence of multicollinearity between the predictor variables</li>
<li><del>Constant Variance Assumption (homoscedasticity)</del></li>
<li><del>Normal Distribution of error terms</del></li>
<li><del>Little or no auto-correlation in the residuals</del></li>
</ul>
<p>Now we are attempting to calculate the probability of the next
scoring event directly, an essential component of an expected points
model. Once we have a model capable of calculating the expectation of
the scoring event, e.g. the probability of the next score being an
offense touchdown, then we simply have to multiply the probability by
the point value of the score to get the expected points.</p>
<p><a href="https://imgur.com/xw3BvAd" class="external-link"><img src="https://i.imgur.com/xw3BvAdl.png" title="Figure: @ChrisAlbon" alt="Illustration comparing linear vs logistic regression decision boundaries"></a></p>
<p><strong>Figure 7</strong>: Logistic vs. Linear Regression | <a href="https://machinelearningflashcards.com/" class="external-link">Chris Albon</a> (@<a href="https://twitter.com/chrisalbon?s=20" class="external-link">ChrisAlbon</a>)</p>
<p>With that background, we can build our model equation with whatever
independent variables we choose to include in the model as shown in
Figure 8.</p>
<p><a href="https://imgur.com/vVaOIZx" class="external-link"><img src="https://i.imgur.com/vVaOIZxl.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 8</strong>: Offense Touchdown Logit Regression</p>
<p>Below is a model fit to the next score offense touchdown variable
using the independent variables yards-to-goal, down, distance, and the
interaction between down and distance.</p>
<p><a href="https://imgur.com/gRTGzMT" class="external-link"><img src="https://i.imgur.com/gRTGzMTl.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 9</strong>: Offense Touchdown Logistic Regression
model summary</p>
<p>Once again we see that all variables in the model are fit are
significant at the p &lt; 0.001 level. In figure 10 below, we can see
the probability of the next score in half being a touchdown in relation
to field position (yards-to-goal) as the offense progresses down the
field.</p>
<p><a href="https://imgur.com/VVsQ8lm" class="external-link"><img src="https://i.imgur.com/VVsQ8lml.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 10</strong>: Field Position and Offense TD probability
- Logistic Regression</p>
<p>You might be asking “Yeah, that’s great, but you’re still only
predicting the probability of one scoring type relative to another.
You’d need to do this like 6 times, right?” Well, fair point. How does
one do logistic regression on a categorical variable that has more than
one class?</p>
</div>
</div>
<div class="section level3">
<h3 id="multinomial-logistic-regression-or-softmax-regression">Multinomial Logistic Regression (or Softmax regression)<a class="anchor" aria-label="anchor" href="#multinomial-logistic-regression-or-softmax-regression"></a>
</h3>
<p>A multinomial logistic regression model uses the independent
(predictor) variables and target variable data from the training set to
build relationships between the independent variables and each of the
classes of the target variable.</p>
<p><a href="https://imgur.com/c18pbOL" class="external-link"><img src="https://i.imgur.com/c18pbOLl.jpg" title="Figure: @ChrisAlbon" alt="Diagram of multinomial logistic regression and class probabilities"></a></p>
<p><strong>Figure 11</strong>: Multinomial Logistic Regression <a href="https://machinelearningflashcards.com/" class="external-link">Chris Albon</a> (@<a href="https://twitter.com/chrisalbon?s=20" class="external-link">ChrisAlbon</a>)</p>
<p>The primary difference between logistic and multinomial logistic
regression is the use of the softmax function which re-weights the
probabilities generated from each of the individual models so that in
total they add to one as seen in Figure 12 below.</p>
<p><a href="https://imgur.com/EyxYqaM" class="external-link"><img src="https://i.imgur.com/EyxYqaMm.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 12</strong>: Softmax function</p>
<p>More specifically, a multinomial logistic regression model is an
extension of the binomial logistic regression model because it is a
series of logistic regression models estimated simultaneously with the
same reference outcome.</p>
<p><a href="https://imgur.com/bGug8hp" class="external-link"><img src="https://i.imgur.com/bGug8hpl.png" title="Figure: @SaiemGilani" alt="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 13</strong>: Multinomial Logistic Regression Football
Expected Points Model</p>
<p>The college football expected points (EP) model is a multinomial
logistic regression model which generates probabilities for the possible
types of next score events within the same half. In our case, we build 6
logistic regression models fit to the next score types — Offense FG,
Offense TD, Offense Safety, Opponent TD, Opponent FG, and Opponent
Safety — all except for the class that is used as the base case (i.e. No
Score), since that is accounted for in the intercept, as mentioned in
Part 1. Ron Yurko, Sam Ventura, and Max Horowitz originally proposed the
multinomial logistic regression expected points model for football in
2017, which we will learn more about in Part 3.</p>
<p>Additionally, now that we have a way to calculate the probabilities
of scores, we can calculate the expected points. We will discuss this in
Part 4.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a>, <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
